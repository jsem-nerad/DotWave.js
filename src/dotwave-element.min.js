class DotWaveElement extends HTMLElement{constructor(){super(),this.dotwave=null,this.isInitialized=!1}static get observedAttributes(){return["num-dots","dot-color","background-color","dot-min-size","dot-max-size","dot-min-opacity","dot-max-opacity","influence-radius","influence-strength","random-factor","friction","max-speed","reactive","z-index","mouse-speed-decay","max-mouse-speed","dot-stretch","dot-stretch-mult","dot-max-stretch","rot-smoothing","rot-smoothing-intensity"]}connectedCallback(){setTimeout((()=>{this.initializeDotWave()}),0)}attributeChangedCallback(t,e,o){e!==o&&this.isInitialized&&this.dotwave&&this.updateDotWaveOptions()}disconnectedCallback(){this.dotwave&&(this.dotwave.destroy(),this.dotwave=null,this.isInitialized=!1)}getOptionsFromAttributes(){const t={},e={"num-dots":{prop:"numDots",type:"number",default:400},"dot-color":{prop:"dotColor",type:"string",default:"white"},"background-color":{prop:"backgroundColor",type:"string",default:"black"},"dot-min-size":{prop:"dotMinSize",type:"number",default:1},"dot-maxs-ize":{prop:"dotMaxSize",type:"number",default:3},"dot-min-opacity":{prop:"dotMinOpacity",type:"number",default:.5},"dot-max-opacity":{prop:"dotMaxOpacity",type:"number",default:1},"influence-radius":{prop:"influenceRadius",type:"number",default:100},"influence-strength":{prop:"influenceStrength",type:"number",default:.5},"random-factor":{prop:"randomFactor",type:"number",default:.05},friction:{prop:"friction",type:"number",default:.97},"max-speed":{prop:"maxSpeed",type:"number",default:3},reactive:{prop:"reactive",type:"boolean",default:!0},"z-index":{prop:"zIndex",type:"number",default:-1},"mouse-speed-decay":{prop:"mouseSpeedDecay",type:"number",default:.85},"max-mouse-speed":{prop:"maxMouseSpeed",type:"number",default:15},"dot-stretch":{prop:"dotStretch",type:"boolean",default:!0},"dot-stretch-mult":{prop:"dotStretchMult",type:"number",default:10},"dot-max-stretch":{prop:"dotMaxStretch",type:"number",default:20},"rot-smoothing":{prop:"rotSmoothing",type:"boolean",default:!1},"rot-smoothing-intensity":{prop:"rotSmoothingIntensity",type:"number",default:150}};for(const[o,i]of Object.entries(e))if(this.hasAttribute(o)){const e=this.getAttribute(o);if("boolean"===i.type)t[i.prop]="false"!==e&&null!==e;else if("number"===i.type){const o=parseFloat(e);t[i.prop]=isNaN(o)?i.default:o}else t[i.prop]=e||i.default}return t.container=this,t}initializeDotWave(){if(this.isInitialized)return;if("undefined"==typeof DotWave)return void console.error("DotWave library is not loaded. Please include dotwave.js before the custom element.");const t=this.getOptionsFromAttributes();this.setupElementStyles();try{this.dotwave=new DotWave(t),this.isInitialized=!0}catch(t){console.error("Error initializing DotWave:",t)}}setupElementStyles(){const t=window.getComputedStyle(this);"inline"===t.display&&(this.style.display="block"),"static"===t.position&&(this.style.position="relative"),this.style.width||"0px"!==t.width||(this.style.width="100%"),this.style.height||"0px"!==t.height||(this.style.height="400px"),this.style.overflow||(this.style.overflow="hidden")}updateDotWaveOptions(){if(!this.dotwave)return;const t=this.getOptionsFromAttributes();delete t.container,this.dotwave.updateOptions(t)}get numDots(){return this.hasAttribute("num-dots")?parseInt(this.getAttribute("num-dots")):400}set numDots(t){null!=t?this.setAttribute("num-dots",t.toString()):this.removeAttribute("num-dots")}get dotColor(){return this.getAttribute("dot-color")||"white"}set dotColor(t){t?this.setAttribute("dot-color",t):this.removeAttribute("dot-color")}get backgroundColor(){return this.getAttribute("background-color")||"black"}set backgroundColor(t){t?this.setAttribute("background-color",t):this.removeAttribute("background-color")}get reactive(){return!this.hasAttribute("reactive")||"false"!==this.getAttribute("reactive")}set reactive(t){t?this.setAttribute("reactive","true"):this.setAttribute("reactive","false")}pause(){this.dotwave&&this.dotwave.pause()}resume(){this.dotwave&&this.dotwave.resume()}destroy(){this.dotwave&&(this.dotwave.destroy(),this.dotwave=null,this.isInitialized=!1)}getDotWaveInstance(){return this.dotwave}}customElements.define("dot-wave",DotWaveElement),"undefined"!=typeof module&&module.exports&&(module.exports=DotWaveElement);
